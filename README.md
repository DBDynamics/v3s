# PyV3s æ§åˆ¶å™¨æ–‡æ¡£

## ç›®å½•
- [ç®€ä»‹](#ç®€ä»‹)
- [èµ„æºç‰¹æ€§](#èµ„æºç‰¹æ€§)
- [äº§å“ç»†èŠ‚](#äº§å“ç»†èŠ‚)
- [é…ä»¶ä»‹ç»](#é…ä»¶ä»‹ç»)
- [æœºæ¢°å°ºå¯¸](#æœºæ¢°å°ºå¯¸)
- [æ¥å£å¸ƒå±€](#æ¥å£å¸ƒå±€)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [å‚è€ƒç¤ºä¾‹](#å‚è€ƒç¤ºä¾‹)
- [ç›¸å…³è§†é¢‘](#ç›¸å…³è§†é¢‘)

## ç®€ä»‹

![](images/v3s_0.png)

PyV3sæ˜¯DBDå›¢é˜Ÿå¼€å‘çš„ä¸€æ¬¾è¶…å°å‹Pythonæ§åˆ¶å™¨ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

### æ ¸å¿ƒç‰¹æ€§
- **è¶…å°å°ºå¯¸**ï¼šä»…50mm Ã— 60mm
- **é«˜æ€§èƒ½å¤„ç†å™¨**ï¼šå…¨å¿—ç§‘æŠ€V3s (ARM Cortex-A7)ï¼Œä¸»é¢‘1GHz
- **å†…å­˜é…ç½®**ï¼š64Må†…å­˜ï¼Œ512Må­˜å‚¨ç©ºé—´
- **æ“ä½œç³»ç»Ÿ**ï¼šåŸºäºbuildrootçš„ä¸»çº¿Linuxç³»ç»Ÿ
- **åå¤„ç†å™¨**ï¼šARM Cortex-M0ï¼Œè´Ÿè´£å®æ—¶é€šä¿¡å’Œç¼–ç å™¨æ•°æ®å¤„ç†

### æ¥å£é…ç½®
- ç™¾å…†ä»¥å¤ªç½‘æ¥å£ Ã— 1
- USB2.0æ¥å£ Ã— 1
- TTLä¸²å£ Ã— 2è·¯
- ABå¢é‡ç¼–ç å™¨æ¥å£ Ã— 1è·¯
- æ•°å­—è¾“å…¥ Ã— 4è·¯
- æ•°å­—è¾“å‡º Ã— 4è·¯
- RS485é€šä¿¡ Ã— 2è·¯
- ä¸»ç”µæº/å¤‡ç”¨ç”µæºæ¥å£
- **ç¼–ç¨‹è¯­è¨€**ï¼šæ”¯æŒPythonç¼–ç¨‹

* * *

## èµ„æºç‰¹æ€§

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é‡é‡** | 7.2g |
| **é€‚é…è®¾å¤‡** | å…¨ç³»åˆ—Beeç”µæœºé©±åŠ¨å™¨/IOæ¿/ç¯å…‰æ§åˆ¶å™¨/ç¼–ç å™¨ |
| **å·¥ä½œç”µå‹** | DC 12V/24V |
| **æœ€å¤§æŒç»­è¾“å‡ºç”µæµ** | 200mA |
| **çŠ¶æ€æŒ‡ç¤ºç¯** | è“è‰² |
| **USBæ€»çº¿é€Ÿåº¦** | 480Mbps |
| **ä»¥å¤ªç½‘é€Ÿåº¦** | 100Mbps |
| **RS485æ€»çº¿é€Ÿåº¦** | 250Kbps/500Kbps |
| **è¿è¡Œæ¸©åº¦** | -10Â°C ~ +60Â°C |  
  
## äº§å“ç»†èŠ‚

![](images/v3s_001.png) ![](images/v3s_002.png) ![](images/v3s_003.png)

## é…ä»¶ä»‹ç»

### æ ‡å‡†é…ä»¶æ¸…å•
- **ç”µæºçº¿**ï¼šç”¨äº12V/24Vç›´æµä¾›ç”µ
- **ç½‘å£çº¿**ï¼šç”¨äºä»¥å¤ªç½‘é€šä¿¡è¿æ¥
- **TTLä¸²å£çº¿**ï¼šç”¨äºä¸²å£é€šä¿¡å’Œè°ƒè¯•
- **USBçº¿**ï¼šç”¨äºUSBé€šä¿¡å’Œæ•°æ®ä¼ è¾“
- **IOè¾“å…¥çº¿**ï¼šç”¨äºè¿æ¥è¾“å…¥ä¼ æ„Ÿå™¨
- **IOè¾“å‡ºçº¿**ï¼šç”¨äºè¿æ¥è¾“å‡ºè®¾å¤‡
- **ç¼–ç å™¨çº¿**ï¼šç”¨äºè¿æ¥å¢é‡ç¼–ç å™¨

## æœºæ¢°å°ºå¯¸

> è¯¦ç»†å°ºå¯¸å›¾çº¸è¯·å‚è€ƒäº§å“è§„æ ¼ä¹¦

## æ¥å£å¸ƒå±€

![](images/v3s.png)

### ä¾›ç”µæ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **ä¾›ç”µç”µå‹** | 12V/24V DC |
| **æ¥æ’ä»¶** | XH2.54-2P |
| **æœ€å¤§ç”µæµ** | <3A |
| **å¤‡ç”¨ç”µæº** | 12V/24V DC |  
  
### RS485é€šä¿¡æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **å¯¹å¤–ä¾›ç”µç”µå‹** | 5V DC |
| **æ¥æ’ä»¶** | XH2.54-4P |
| **é€šé“æ•°** | 2 |
| **æ³¢ç‰¹ç‡** | 250Kbps |

### ä»¥å¤ªç½‘é€šä¿¡æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šä¿¡é€Ÿç‡** | 100Mbps |
| **IPåœ°å€(é™æ€)** | 192.168.10.22 |
| **æ¥æ’ä»¶** | PHB2.0-2x2 |

### USBé€šä¿¡æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šä¿¡é€Ÿç‡** | 480Mbps |
| **æ¥æ’ä»¶** | PHB2.0-2x2 |  
  
### UART0é€šä¿¡æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šä¿¡é€Ÿç‡** | 115200bps |
| **æ¥æ’ä»¶** | PHB2.0-2x2 |
| **åŠŸèƒ½** | ä¸²å£è°ƒè¯•ç»ˆç«¯ï¼Œå¯ç”¨puttyè¿æ¥ |

### UART1é€šä¿¡æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šä¿¡é€Ÿç‡** | è‡ªå®šä¹‰ |
| **æ¥æ’ä»¶** | PHB2.0-2x2 |
| **åŠŸèƒ½** | è‡ªå®šä¹‰ |
| **ç«¯å£** | /dev/ttyS1 |

### UART2é€šä¿¡æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šä¿¡é€Ÿç‡** | è‡ªå®šä¹‰ |
| **æ¥æ’ä»¶** | PHB2.0-2x2 |
| **åŠŸèƒ½** | è‡ªå®šä¹‰ |
| **ç«¯å£** | /dev/ttyS2 |  
  
### IOè¾“å‡ºæ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šé“æ•°** | 4 |
| **æ¥æ’ä»¶** | PHB2.0-2x2 |
| **åŠŸèƒ½** | è‡ªå®šä¹‰ |
| **è¾“å‡ºç±»å‹** | å¼€æ¼è¾“å‡ºï¼ˆä½ç”µå¹³æœ‰æ•ˆï¼‰ |

### IOè¾“å…¥æ¥å£

| å‚æ•° | è§„æ ¼ |
|------|------|
| **é€šé“æ•°** | 4 |
| **æ¥æ’ä»¶** | PHB2.0-2x3 |
| **åŠŸèƒ½** | è‡ªå®šä¹‰ |
| **è¾“å…¥ç±»å‹** | å†…éƒ¨ä¸Šæ‹‰ï¼ˆä½ç”µå¹³æœ‰æ•ˆï¼Œé…åˆNPNç±»å‹æ¥è¿‘å¼€å…³ï¼‰ |  
  
## å¼€å‘æŒ‡å—

### å¸¸ç”¨å¼€å‘å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| **VsCode** | ä»£ç ç¼–è¾‘å’Œå¼€å‘ç¯å¢ƒ |
| **WinScp** | æ–‡ä»¶ä¼ è¾“å·¥å…· |
| **MobaXterm** | SSHç»ˆç«¯å’ŒX11æœåŠ¡å™¨ |
| **Putty** | SSHç»ˆç«¯è¿æ¥å·¥å…· |

### æœ€æ–°åº“æ–‡ä»¶ä¸‹è½½

- [libpro.py](python/libpro.py) - ä¸»è¦åŠŸèƒ½åº“
- [libio.py](python/libio.py) - IOæ§åˆ¶åº“

### è¿æ¥æ–¹å¼

#### USBä¸²å£ç»ˆç«¯ç™»å½•
> [putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)

#### ç½‘å£ç™»å½•æ§åˆ¶å™¨
> é»˜è®¤IPåœ°å€ï¼š192.168.10.22

#### VsCodeå¼€å‘ç¯å¢ƒé…ç½®
> [vscode](https://code.visualstudio.com/)

#### WinSCPæ–‡ä»¶ä¼ è¾“
> ç”¨äºä¸Šä¼ /ä¸‹è½½ä»£ç æ–‡ä»¶
> [winscp](https://winscp.net/eng/download.php)

#### MobaXTermä½¿ç”¨
> é›†æˆSSHå’Œæ–‡ä»¶ä¼ è¾“åŠŸèƒ½
> [mobaxterm](https://mobaxterm.mobatek.net/download.html)

### Pythonä»£ç è¿è¡Œ

ç™»å½•ç³»ç»Ÿåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡ŒPythonä»£ç ï¼š

```bash
python3 your_script.py
```

å°† `your_script.py` æ›¿æ¢ä¸ºæ‚¨è¦è¿è¡Œçš„æ–‡ä»¶åã€‚

### å¼€æœºè‡ªåŠ¨è¿è¡Œè®¾ç½®

è¦è®¾ç½®å¼€æœºè‡ªåŠ¨è¿è¡ŒPythonä»£ç ï¼Œéœ€è¦ä¿®æ”¹æ–‡ä»¶ `/etc/init.d/S60motion`ï¼š

1. æ‰¾åˆ°ä»¥ä¸‹è¡Œå¹¶å»æ‰æ³¨é‡Šç¬¦å· `#`ï¼š
   ```bash
   #nohup /usr/bin/python3 /root/motion.py &
   ```

2. å°† `motion.py` æ›¿æ¢ä¸ºæ‚¨è¦å¯åŠ¨çš„æ–‡ä»¶å

3. **æ³¨æ„**ï¼šç¨‹åºä¸­æ‰€æœ‰æ¶‰åŠåˆ°è·¯å¾„çš„åœ°æ–¹éƒ½éœ€è¦ä½¿ç”¨ç»å¯¹è·¯å¾„

**å®Œæ•´çš„S60motionè„šæœ¬ç¤ºä¾‹ï¼š**

```bash
#!/bin/sh
#
# Starts DBD Motion
#

# Allow a few customizations from a config file

start() {
    /sbin/insmod /root/hello.ko
    # printf "start motion..."
    # sleep 1
    nohup /usr/bin/python3 /root/your_script.py &
    # printf "start demo..."
}

stop() {
    printf "Stopping motion"
}

restart() {
    stop
    start
}

case "$1" in
  start)
    start
    ;;
  stop)
    stop
    ;;
  restart|reload)
    restart
    ;;
  *)
    echo "Usage: $0 {start|stop|restart}"
    exit 1
esac

exit $?
```

### IOæ¥å£ä½¿ç”¨ç¤ºä¾‹

#### è¾“å…¥IOä½¿ç”¨

PyV3sæ§åˆ¶å™¨æ‹¥æœ‰4ä¸ªIOè¾“å…¥ç«¯å£ï¼Œç¡¬ä»¶è¿æ¥æ³¨æ„äº‹é¡¹ï¼š
- ä¼ æ„Ÿå™¨é€‰ç”¨NPNç±»å‹
- æ”¯æŒå¸¸å¼€æˆ–å¸¸é—­è§¦ç‚¹
- å†…éƒ¨å·²é…ç½®ä¸Šæ‹‰ç”µé˜»

**ä»£ç ç¤ºä¾‹ï¼š**

```python
from libio import GPIO
import time

io = GPIO()

for loop in range(0, 100):
    ret = io.getInput()
    if ret & 0x1:
        print("Button 0 pressed")
    if ret & 0x2:
        print("Button 1 pressed")
    if ret & 0x4:
        print("Button 2 pressed")
    if ret & 0x8:
        print("Button 3 pressed")
    time.sleep(0.1)
```

#### è¾“å‡ºIOä½¿ç”¨

> è¾“å‡ºIOä¸ºå¼€æ¼è¾“å‡ºï¼Œä½ç”µå¹³æœ‰æ•ˆï¼Œå¯ç”¨äºæ§åˆ¶ç»§ç”µå™¨ã€LEDç­‰è®¾å¤‡

#### TTLä¸²å£ä½¿ç”¨ (ttyS1/ttyS2)

**ä»£ç ç¤ºä¾‹ï¼š**

```python
import serial
import time

portName = '/dev/ttyS2'

# åˆå§‹åŒ–ä¸²å£
port = serial.Serial(portName, 9600, timeout=0.1)

# æ„å»ºæ¶ˆæ¯æ•°æ®
message = bytearray(8)
message[0] = 0x01  # è®¾å¤‡åœ°å€
message[1] = 0x03  # åŠŸèƒ½ç 
message[2] = 0x00  # èµ·å§‹åœ°å€é«˜ä½
message[3] = 0x00  # èµ·å§‹åœ°å€ä½ä½
message[4] = 0x00  # å¯„å­˜å™¨æ•°é‡é«˜ä½
message[5] = 0x03  # å¯„å­˜å™¨æ•°é‡ä½ä½
message[6] = 0x05  # CRCæ ¡éªŒä½ä½
message[7] = 0xCB  # CRCæ ¡éªŒé«˜ä½

# å¾ªç¯å‘é€å’Œæ¥æ”¶æ•°æ®
for loop in range(0, 100):
    port.write(message)
    time.sleep(1)
    ret = port.read(11)
    print(f"Received: {ret}")

# å…³é—­ä¸²å£
port.close()
```
### RS485æ€»çº¿çš„ä½¿ç”¨
#### æ‰«æåœ¨çº¿è®¾å¤‡
```bash
# python3 scan.py
Searching Online Devices...
Online Devices:
[0, 1]
# 
```
æ³¨æ„: å‡ºå‚é»˜è®¤ç¼–å·ä¸º0æˆ–è€…0,1 éœ€è¦å•ç‹¬è¿æ¥æ¯ä¸€ä¸ªè®¾å¤‡è¿›è¡Œä¿®æ”¹ä¿å­˜ ä¿è¯ç¼–å·ä¸é‡å¤å†è¿›è¡Œæ€»çº¿çº§è”
### å¦‚ä½•ä¿®æ”¹ID
- [æœ€æ–°changeID.py](python/changeID.py)
ä¾‹å­: æŠŠIDä¸º0çš„è®¾å¤‡ä¿®æ”¹ä¸ºIDä¸º2
```bash
# python3 changeID.py 0 2
æ­£åœ¨å°†è®¾å¤‡IDä» 0 ä¿®æ”¹ä¸º 2
è®¾å¤‡IDä¿®æ”¹æˆåŠŸï¼š0 -> 2
```
ä¾‹å­: æŠŠIDä¸º0çš„è®¾å¤‡ä¿®æ”¹ä¸ºIDä¸º4
```bash
# python3 changeID.py 0 4
æ­£åœ¨å°†è®¾å¤‡IDä» 0 ä¿®æ”¹ä¸º 4
è®¾å¤‡IDä¿®æ”¹æˆåŠŸï¼š0 -> 4
```
æ³¨æ„: ä¸€æ‹–äºŒåŒè½´é©±åŠ¨å™¨åªéœ€è¦ä¿®æ”¹ç¬¬ä¸€ä¸ªç¼–å· æ¯”å¦‚ 0,1 åªéœ€è¦ä¿®æ”¹0->N 1ä¼šè‡ªåŠ¨ä¿®æ”¹ä¸ºN+1 

### å¦‚æœä½¿ç”¨ä½ç½®æ¨¡å¼
> ä½ç½®æ¨¡å¼çš„æ ¸å¿ƒå‚æ•°åŠæ„ä¹‰
- ç›®æ ‡ä½ç½®: æƒ³è¦åˆ°è¾¾çš„ä½ç½®
- è¿è¡Œé€Ÿåº¦: åœ¨è¿è¡Œè¿‡ç¨‹ä¸­èƒ½è¾¾åˆ°çš„æœ€å¤§è¿è¡Œé€Ÿåº¦
- åŠ é€Ÿæ—¶é—´: åŠ é€Ÿåˆ°æœ€å¤§è¿è¡Œé€Ÿåº¦éœ€è¦çš„æ—¶é—´
- å®é™…ä½ç½®: å½“å‰æ—¶é—´ç”µæœºçš„ä½ç½®

> ä½ç½®æ¨¡å¼çš„è¿è¡ŒåŸç†:
- è¿›å…¥ä½ç½®æ¨¡å¼å, å½“ç›®æ ‡ä½ç½®ä¸å®é™…ä½ç½®ä¸åŒæ—¶,å¼€å§‹è¿åŠ¨.
- è¿åŠ¨æ—¶æœ‰åŠ é€Ÿè¿‡ç¨‹å’Œå‡é€Ÿè¿‡ç¨‹, ç”±åŠ é€Ÿæ—¶é—´ä¸è¿è¡Œé€Ÿåº¦å†³å®š

> ç¤ºä¾‹ä»£ç  [demo_beed.py](python/demo_beed.py)
``` python
# å¯¼å…¥libproåº“ä¸­çš„Beeç±»ï¼Œç”¨äºæ§åˆ¶æ­¥è¿›ç”µæœº
from libpro import Bee

# åˆ›å»ºBeeå¯¹è±¡å®ä¾‹ï¼Œç”¨äºç”µæœºæ§åˆ¶
m = Bee()

# è®¾ç½®ç›®æ ‡é€Ÿåº¦ä¸º1000
m.setTargetVelocity(1000)

# è®¾ç½®åŠ é€Ÿæ—¶é—´ä¸º500æ¯«ç§’
m.setAccTime(500)

# å®šä¹‰è½´IDä¸º0ï¼Œè¡¨ç¤ºæ§åˆ¶ç¬¬0å·è½´
axis_id = 0

# å¾ªç¯æ‰§è¡Œ3æ¬¡å¾€è¿”è¿åŠ¨
for loop in range(3):
    # è®¾ç½®ç›®æ ‡ä½ç½®ä¸º51200*3=153600è„‰å†²ï¼ˆæ­£å‘è¿åŠ¨ï¼‰
    m.setTargetPosition(axis_id, 51200*3)
    # ç­‰å¾…ç”µæœºåˆ°è¾¾ç›®æ ‡ä½ç½®
    m.waitTargetPositionReached(axis_id)

    # è®¾ç½®ç›®æ ‡ä½ç½®ä¸º0ï¼ˆè¿”å›åŸç‚¹ï¼‰
    m.setTargetPosition(axis_id, 0)
    # ç­‰å¾…ç”µæœºåˆ°è¾¾åŸç‚¹ä½ç½®
    m.waitTargetPositionReached(axis_id)

# åœæ­¢ç”µæœºè¿è¡Œå¹¶é‡Šæ”¾èµ„æº
m.stop()
```

### å¦‚ä½•ä½¿ç”¨å›é›¶æ¨¡å¼
> å›é›¶æ¨¡å¼çš„æ ¸å¿ƒå‚æ•°åŠæ„ä¹‰
- å›é›¶æ–¹å‘: å›é›¶è¿åŠ¨çš„æ–¹å‘, å¯ä»¥æ˜¯æ­£æ–¹å‘æˆ–è´Ÿæ–¹å‘
- å›é›¶è§¦å‘ç”µå¹³: è§¦å‘å›é›¶è¿åŠ¨çš„ç”µå¹³, é€šå¸¸æ˜¯ä½ç”µå¹³æˆ–é«˜ç”µå¹³
- å›é›¶è¿‡ç¨‹ä¸­çš„ç›®æ ‡é€Ÿåº¦: å›é›¶è¿‡ç¨‹ä¸­ç”µæœºçš„è¿è¡Œé€Ÿåº¦, å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´
> å›é›¶æ¨¡å¼çš„è¿è¡ŒåŸç†:
- å›é›¶æ¨¡å¼ä¸‹, ç”µæœºæ ¹æ®è®¾ç½®çš„å›é›¶æ–¹å‘å’Œè§¦å‘ç”µå¹³, å¼€å§‹å‘å›é›¶æ–¹å‘è¿åŠ¨.
- å½“è§¦å‘ç”µå¹³è§¦å‘æ—¶, ç”µæœºåœæ­¢è¿åŠ¨, å¹¶å°†å½“å‰ä½ç½®ä½œä¸ºæ–°çš„åŸç‚¹.
- å›é›¶æ¨¡å¼é€šå¸¸ç”¨äºå°†ç”µæœºå®šä½åˆ°ä¸€ä¸ªå·²çŸ¥çš„å‚è€ƒç‚¹, ä¾‹å¦‚é›¶ç‚¹æˆ–å‚è€ƒçº¿.

> å›é›¶æ¨¡å¼çš„ç¤ºä¾‹ä»£ç  [demo_home.py](python/demo_home.py)
``` python
# å¯¼å…¥libproåº“ä¸­çš„Beeç±»ï¼Œç”¨äºæ§åˆ¶æ­¥è¿›ç”µæœº
from libpro import Bee
# ä»demo_beedæ¨¡å—å¯¼å…¥axis_idï¼ˆè™½ç„¶ä¸‹é¢é‡æ–°å®šä¹‰äº†ï¼‰
from python.demo_beed import axis_id

# åˆ›å»ºBeeå¯¹è±¡å®ä¾‹ï¼Œç”¨äºç”µæœºæ§åˆ¶
m = Bee()

# å®šä¹‰è½´IDä¸º0ï¼Œè¡¨ç¤ºæ§åˆ¶ç¬¬0å·è½´
axis_id = 0

# è®¾ç½®å›é›¶æ–¹å‘ä¸º1ï¼ˆæ­£æ–¹å‘å›é›¶ï¼‰
# å‚æ•°è¯´æ˜ï¼š1=æ­£æ–¹å‘ï¼Œ-1=è´Ÿæ–¹å‘
m.setHomingDirection(axis_id, 1)

# è®¾ç½®å›é›¶è§¦å‘ç”µå¹³ä¸º0ï¼ˆä½ç”µå¹³è§¦å‘ï¼‰
# å‚æ•°è¯´æ˜ï¼š0=ä½ç”µå¹³è§¦å‘ï¼Œ1=é«˜ç”µå¹³è§¦å‘
m.setHomingLevel(axis_id, 0)

# è®¾ç½®å›é›¶è¿‡ç¨‹ä¸­çš„ç›®æ ‡é€Ÿåº¦ä¸º200ï¼ˆè„‰å†²/ç§’ï¼‰
m.setTargetVelocity(axis_id, 200)

# å¯åŠ¨å›é›¶æ¨¡å¼ï¼Œç”µæœºå¼€å§‹å¯»æ‰¾åŸç‚¹ä½ç½®
m.setHomingMode(axis_id)

# ç­‰å¾…å›é›¶å®Œæˆï¼Œç›´åˆ°ç”µæœºåˆ°è¾¾åŸç‚¹ä½ç½®
m.waitTargetPositionReached(axis_id)

# åœæ­¢ç”µæœºè¿è¡Œå¹¶é‡Šæ”¾èµ„æº
m.stop()
```

## libpro.Bee ç±»åº“è¯¦è§£

### ğŸ”§ **æ ¸å¿ƒåŠŸèƒ½**
`libpro.Bee` æ˜¯ä¸€ä¸ªç”¨äºæ§åˆ¶æ­¥è¿›ç”µæœºå’Œæ— åˆ·ç›´æµç”µæœºçš„Pythonåº“ï¼Œä¸»è¦ç”¨äºå·¥ä¸šè‡ªåŠ¨åŒ–å’Œè¿åŠ¨æ§åˆ¶ç³»ç»Ÿã€‚

### ğŸ“‹ **ä¸»è¦ç‰¹æ€§**

#### 1. **è®¾å¤‡ç±»å‹æ”¯æŒ**
```python
# æ”¯æŒçš„è®¾å¤‡ç±»å‹
_BOARD_TYPE_STEPPER_ANT = 0x10      # æ­¥è¿›ç”µæœº ANT
_BOARD_TYPE_STEPPER_BEE = 0x11      # æ­¥è¿›ç”µæœº BEE  
_BOARD_TYPE_STEPPER_ELEPHANT = 0x12 # æ­¥è¿›ç”µæœº ELEPHANT
_BOARD_TYPE_BDCS_BEE = 0x13         # æœ‰åˆ·ç›´æµç”µæœº BEE
_BOARD_TYPE_BDC_BEE = 0x14          # ç›´æµç”µæœº BEE
_BOARD_TYPE_BLDCS_BEE = 0x15        # æ— åˆ·ç›´æµç”µæœº BEE
```

#### 2. **è¿è¡Œæ¨¡å¼**
```python
# æ“ä½œæ¨¡å¼
_OPERATION_MODE_PWM = 0                    # PWMæ¨¡å¼
_OPERATION_MODE_PROFILE_VELOCITY = 21     # é€Ÿåº¦æ¨¡å¼
_OPERATION_MODE_PROFILE_POSITION = 31     # ä½ç½®æ¨¡å¼
_OPERATION_MODE_HOMING = 40               # å›é›¶æ¨¡å¼
_OPERATION_MODE_ESTOP = 61                # æ€¥åœæ¨¡å¼
_OPERATION_SYNC_INTERPOLATION_POSITION = 34 # åŒæ­¥æ’è¡¥ä½ç½®æ¨¡å¼
```

### ğŸš€ **å¸¸ç”¨æ–¹æ³•åˆ†ç±»**

#### **ç”µæºæ§åˆ¶**
```python
m = Bee()
m.setPowerOn(id)           # ä¸Šç”µ
m.setPowerOff(id)          # æ–­ç”µ
m.setPowerLimit(id, value) # è®¾ç½®åŠŸç‡é™åˆ¶
```

#### **è¿åŠ¨æ§åˆ¶**
```python
# è®¾ç½®è¿è¡Œæ¨¡å¼
m.setVelocityMode(id)      # é€Ÿåº¦æ¨¡å¼
m.setPositionMode(id)      # ä½ç½®æ¨¡å¼
m.setHomingMode(id)        # å›é›¶æ¨¡å¼
m.setPWMMode(id)           # PWMæ¨¡å¼

# è¿åŠ¨å‚æ•°è®¾ç½®
m.setTargetVelocity(id, velocity)  # è®¾ç½®ç›®æ ‡é€Ÿåº¦
m.setTargetPosition(id, position)  # è®¾ç½®ç›®æ ‡ä½ç½®
m.setAccTime(id, time)             # è®¾ç½®åŠ é€Ÿæ—¶é—´
```

#### **çŠ¶æ€è¯»å–**
```python
# è·å–å®æ—¶çŠ¶æ€
position = m.getActualPosition(id)  # è·å–å½“å‰ä½ç½®
velocity = m.getActualVelocity(id)  # è·å–å½“å‰é€Ÿåº¦
status = m.getStatus(id)            # è·å–è®¾å¤‡çŠ¶æ€
io_input = m.getInputIO(id)         # è·å–IOè¾“å…¥çŠ¶æ€
```

#### **å‚æ•°é…ç½®**
```python
# PIDå‚æ•°è°ƒèŠ‚
m.setKPP(id, value)        # è®¾ç½®ä½ç½®æ¯”ä¾‹å¢ç›Š
m.setKPI(id, value)        # è®¾ç½®ä½ç½®ç§¯åˆ†å¢ç›Š
m.setKVF(id, value)        # è®¾ç½®é€Ÿåº¦å‰é¦ˆå¢ç›Š
m.setKFF(id, value)        # è®¾ç½®å‰é¦ˆå¢ç›Š

# ç”µæµæ§åˆ¶
m.setRunningCurrent(id, current)   # è®¾ç½®è¿è¡Œç”µæµ
m.setKeepingCurrent(id, current)   # è®¾ç½®ä¿æŒç”µæµ
m.setCurrentMax(id, current)       # è®¾ç½®æœ€å¤§ç”µæµ
```

#### **è®¾å¤‡ç®¡ç†**
```python
# è®¾å¤‡æ‰«æå’ŒIDç®¡ç†
devices = m.scanDevices()          # æ‰«æåœ¨çº¿è®¾å¤‡
m.changeID(old_id, new_id)         # ä¿®æ”¹è®¾å¤‡ID
board_type = m.getBoardType(id)    # è·å–è®¾å¤‡ç±»å‹
```

### ğŸ’¡ **å…¸å‹ä½¿ç”¨ç¤ºä¾‹**

```python
from libpro import Bee
import time

# åˆå§‹åŒ–
m = Bee()

# è®¾å¤‡ID
device_id = 0

try:
    # 1. ä¸Šç”µ
    m.setPowerOn(device_id)
    time.sleep(0.5)
    
    # 2. è®¾ç½®ä½ç½®æ¨¡å¼
    m.setPositionMode(device_id)
    
    # 3. è®¾ç½®è¿åŠ¨å‚æ•°
    m.setAccTime(device_id, 1000)      # åŠ é€Ÿæ—¶é—´1ç§’
    m.setTargetPosition(device_id, 10000)  # ç›®æ ‡ä½ç½®
    
    # 4. ç­‰å¾…è¿åŠ¨å®Œæˆ
    m.waitTargetPositionReached(device_id)
    
    # 5. è·å–å½“å‰çŠ¶æ€
    current_pos = m.getActualPosition(device_id)
    print(f"å½“å‰ä½ç½®: {current_pos}")
    
finally:
    # 6. æ–­ç”µå¹¶åœæ­¢
    m.setPowerOff(device_id)
    m.stop()
```

### ğŸ” **æŠ€æœ¯ç‰¹ç‚¹**

1. **åº•å±‚é€šä¿¡**ï¼šåŸºäºå…±äº«å†…å­˜å’ŒDMAç¼“å†²åŒºå®ç°é«˜æ•ˆé€šä¿¡
2. **å¤šè½´æ”¯æŒ**ï¼šæ”¯æŒæœ€å¤š32è½´åŒæ—¶æ§åˆ¶
3. **å®æ—¶æ€§**ï¼šé€šè¿‡ç‹¬ç«‹çº¿ç¨‹å¤„ç†é€šä¿¡ï¼Œä¿è¯å®æ—¶æ€§
4. **æ’è¡¥åŠŸèƒ½**ï¼šæ”¯æŒå¤šè½´åŒæ­¥æ’è¡¥è¿åŠ¨
5. **å®‰å…¨æœºåˆ¶**ï¼šåŒ…å«æ€¥åœã€é™ä½ã€è¿‡æµä¿æŠ¤ç­‰å®‰å…¨åŠŸèƒ½

è¿™ä¸ªåº“æ˜¯PyV3sæ§åˆ¶å™¨çš„æ ¸å¿ƒè¿åŠ¨æ§åˆ¶åº“ï¼Œä¸ºå·¥ä¸šè‡ªåŠ¨åŒ–åº”ç”¨æä¾›äº†å®Œæ•´çš„ç”µæœºæ§åˆ¶è§£å†³æ–¹æ¡ˆã€‚
        
## å‚è€ƒç¤ºä¾‹
### é¡¹ç›®æ¡ˆä¾‹

## ç›¸å…³è§†é¢‘
### æ•™ç¨‹è§†é¢‘
- [pyv3s æ§åˆ¶å™¨è¿è¡Œè‡ªå®šä¹‰è½¨è¿¹](https://www.bilibili.com/video/BV1Re4de3Exe/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [å¦‚ä½•ä½¿ç”¨æ¿è½½ io è¾“å‡º](https://www.bilibili.com/video/BV18oHkenEic/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [å†™ä¸€æ®µä»£ç  è®©ç”µæœºè¿è¡Œèµ·æ¥](https://www.bilibili.com/video/BV12eH5eaEeC/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [ä¿®æ”¹ä¸€ä¸‹ä»£ç  è®©ä¸¤ä¸ªç”µæœºè·‘èµ·æ¥](https://www.bilibili.com/video/BV12YH5eAE2V/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [å¦‚ä½•è¿æ¥ä¸¤å°ç”µæœº](https://www.bilibili.com/video/BV1q1HgeBEcH/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [å¦‚ä½•æ‰«æå’Œä¿®æ”¹ ID](https://www.bilibili.com/video/BV1BkHge6Ev9/)
- [å¦‚ä½•ä½¿ç”¨ winscp å·¥å…·è¿›è¡Œä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶](https://www.bilibili.com/video/BV1hMsVeGEYU/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [å¦‚ä½•ä½¿ç”¨ vscode ç¼–å†™ä¸Šä¼ è¿è¡Œä»£ç ](https://www.bilibili.com/video/BV1kAsGedEMx/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)
- [å¦‚ä½•ä½¿ç”¨ä»¥å¤ªç½‘æ¥å£ç™»å½•æ§åˆ¶å™¨](https://www.bilibili.com/video/BV11ds3ehEmq/)
- [å¦‚ä½•ä½¿ç”¨ TTL ä¸²å£çº¿ç™»å½• PyV3s æ§åˆ¶å™¨](https://www.bilibili.com/video/BV1ZEsNeYEW2/?vd_source=1bf81de6c7b29ab112e8d99bca0303d8)